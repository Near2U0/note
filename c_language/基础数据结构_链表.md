[TOC]

# 单项链表

```c
#include<stdlib.h>

struct list
{
    int data;//数据域
  	struct list *next;//指针域  
};

int main(void)
{
    struct list *first = calloc(sizeof(struct list), 1);//在堆中创建一个节点
    struct list *second = calloc(sizeof(struct list), 1);//在堆中创建另外一个节点
    struct list *third = calloc(sizeof(struct list), 1);//在堆中创建另外一个节点
    
    first->next = second;
    second->next = third;
    third->next = NULL://对于链表的最后一个节点，next一定为NULL
    
    first->data = 1;
    second->data = 2;
    third->data = 3;
    
    
    return 0;
}


//创建节点
struct list * create_list()//建立一个节点
{
    return calloc(sizeof(struct list), 1);
}

//遍历链表
void traverse(struct list *ls)
{
    struct list *p = ls;
    while(p)
    {
        printf("%d\n", p->data);
        p = p->next;
    }
}

//在指定位置插入元素
struct list *insert_list(struct list *ls , int n, int data)
{
    struct list *p = ls;
    while(p && n--)//找到要插入的位置
    {
        p = p->next;
    }
    if(p==NULL)
    {
        return NULL;//n的位置大于链表节点数
    }
    
    struct list *node = create_list();//新创建一个节点
    node->data = data;
    node->next = p->next;
    p->next = node;
    
    return node;
}

//删除指定位置的元素
int delete_list(struct list *ls, int n)
{
    struct list *p = ls;
    while(p && n--)
    {
        p = p->next;
    }
    if(p == NULL)
    {
        return -1;//n的位置不合适
    }
    
    struct list *tmp = p->next;
    p->next = p->next->next;
    free(tmp);
    
    return 0;//删除成功
    
}
```

28:00