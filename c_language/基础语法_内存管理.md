[TOC]

# 作用域

代码块作用域

```c
int main(void)
{
  int a = 10;
  a = 1;
  {
    int a = 100;
  }
  
  printf("%d\n", a);//1
}
```

全局作用域

```c
int a = 200;//全局变量
int main(void)
{
  int a = 10;
  a = 1;
  {
    int a = 100;
  }
  
  printf("%d\n", a);//1
}
```

文件中定义变量

```c
//vi a.c
int a = 10;

//vi main.c
extern int a;//有一个int类型的变量，名字为age，已经在其他文件中定义了，这里可以直接使用
void set_age(int n)
{
  age = n;
}
void get_age()
{
  printf("%d\n", age);
}
int main(void)
{
  set_age(10);
  get_age();
}
```

auto自动变量

```c
auto int a = 0;//
int a = 0;//不写auto，C语言默认变量都是auto，signed
//自动变量，不需要关心变量在内存中什么时候创建和释放，由编译器解决
```

register寄存器变量

```c
/**
通常变量在内存当中，如果能把变量放到CPU的寄存器中，代码的执行效率会更高
*/
register int i = 0;//建议：如果有寄存器空闲，那么这个变量将放入寄存器中
//int *p = &i;//error，因为指针中存放的是内存地址，但是寄存器是没有内存地址的，所以对于一个寄存器变量是不能取地址的
```

静态局部变量

```c
void mystatic()
{
  static int i = 0;//这句话只会执行一次，不管函数调用多少次
  printf("%d", i);//静态变量，只初始化一次，并且程序运行期间，静态变量一直存在
  i++;
}
int main(void)
{
  int i = 0;
  for(;i<10;i++)
  {
    mystatic();
  }
}
```

![image-20190924231249189](/Users/chenyansong/Documents/note/images/c_languge/image-20190924231249189.png)

静态全局变量

```c
static int a = 20;//静态全局变量


```

