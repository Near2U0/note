[TOC]



# 正规表达式与有限自动机

## 单词集合

* 语法描述的几个基本概念

  * **字母表**：一个有穷字符集：记为$\sum$

  * 字母表中的每个元素称为**字符**

  * $\sum$上的字(也叫字符串)，是指由$\sum$中的字符所构成的一个有穷序列

  * 不包含任何字符的序列称为**空字**，记为$\epsilon$

  * 用$\sum^*$表示$\sum$上的所有字的全体，包含空字$\epsilon$

  * 例如：设$\sum=\{a,b\}$,则

    ![image-20190420131207321](/Users/chenyansong/Documents/note/images/compileStud/20.png)

  * $\sum^*$的子集U和子集V的连接(积)定义为

    $$UV=\{\alpha\beta|\alpha\in U, \beta \in V\}$$

  * V自身的n次积记为

    ![image-20190420131715219](/Users/chenyansong/Documents/note/images/compileStud/21.png)

  * ![image-20190420131824692](/Users/chenyansong/Documents/note/images/compileStud/22.png)



## 正规集和正规式

* 描述单词
  * 正规集：程序设计语言定义的合法的单词的集合
  * 正规表达式(简称正规式)：正规式和正规集是一组对应的概念
  
* 正规式和正规集的关系

  ![image-20190420152850253](/Users/chenyansong/Documents/note/images/compileStud/25.png)

* 正规集可以用正规式表示，正规式是表示正规集的一种方法

* 一个字的集合是正规集，当且仅当他能用正规式表示

* 正规式和正规集的递归定义：
  * 对于给定的字母表$\sum$
    * $\epsilon$和$\varnothing$都是$\sum$上的正规式，他们所表示的正规集为$\{\epsilon\}$和$\{\varnothing\}$
  * 假定e1和e2都是$\sum$上的正规式，他们所表示的正规集为$L(e1)$和$L(e2)$,则：
    * (e1|e2)为正规式，他所表示的正规集为$L(e1) \cup L(e2)$
    * (e1*e2)为正规式(连接或者乘积)，他所表示的正规集为$L(e1)L(e2)$
    * $(e1)^*$为正规式，他所表示的正规集为$(L(e1))^*$

* 正规式的等价性

  ![image-20190420152244298](/Users/chenyansong/Documents/note/images/compileStud/23.png)

* 正规式的性质

  ![image-20190420152437132](/Users/chenyansong/Documents/note/images/compileStud/24.png)



## 确定有限自动机

Deterministic Finite Automata :DFA M是一个五元式 $M=(S,\sum,f,S_0,F)$

其中：

1. S是有穷的状态集

2. $\sum$是输入字母表(有穷)

3. f是**状态转换函数**，为$S*\sum->S$的单值映射，$f(s,a)=s^`$ , 表示：当现行状态为s，输入字符为a时，将状态转换到下一状态$s`$, $s`$称为s的一个后继状态

4. $S_0\in S$是唯一的一个初态

5. $F\subseteq S$:终态集(可空)，也就是手一个DFA允许没有终止状态

6. 举例

   ![image-20190420154112741](/Users/chenyansong/Documents/note/images/compileStud/26.png)

   f变成状态转换矩阵如下：

   ![image-20190420154244641](/Users/chenyansong/Documents/note/images/compileStud/27.png)



​	状态转换图如下：

​	![image-20190420154335242](/Users/chenyansong/Documents/note/images/compileStud/28.png)

* 确定有限自动机

  对于$\sum^*$中的任何字$\alpha$,若存在一条从初态到某一终态的道路，且这条路上所有弧上的标记符连接成的字等于$\alpha$,则称$\alpha$为DFA M所识别(接受)

* DFA M所识别的字的全体记为L(M)



DFA是状态转换图的形式化的描述，很容易进行程序化的实现：实现为**一个二维矩阵+一个通用程序**的结构

![image-20190420162120431](/Users/chenyansong/Documents/note/images/compileStud/29.png)



## 非确定有限自动机

定义：一个**非确定有限自动机**(Nondeterministic Finite Automata, NFA) M,是一个五元式 $M=(S,\sum, f, S_0, F)$,其中：

1. S是有穷状态集
2. $\sum$是输入字母表(有穷)
3. f状态转换函数，为$S*\sum^*->2^S$










- 词法分析器的自动产生-LEX

