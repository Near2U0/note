上传点验证文件类型：

1. 修改上传文件的类型：MIME验证突破，可以通过抓包，改包，改变类型
2. 安全狗-通过，安全狗可以过滤指定后缀类型的文件

```shell
filename="test.php"
Content-Type: image/jpeg
```





端口类渗透方案

1. web服务渗透
2. 弱口令渗透
3. 漏洞溢出渗透



端口爆破工具：dydra



一般主站比较难突破，可以从分站入手

域名查找：

1. 字典枚举：subdomain, layer
2. 搜索引擎收录
3. 抓包探针，抓主站的包，可能看到分站的域名



分域名渗透方法：

1. 基于同服务器：通过域名反查，可以查询到同Ip下的多个域名               旁注
2. 基于同网段      C段（攻下内网的一台机器做内网渗透）
3. 基于域名服务商
   1. 如何拿到了（可以通过社工库）域名的修改权限，我们可以修改域名指向的IP，钓鱼网站，或者指向一个有木马的web，或者盗取cookie的web

查询网址：www.webscan.cc



分目录

```shell
www.hivip.com/
www.hivip.com/old
www.hivip.com/mobile

#入侵目标面对的是两套程序
```



分目录的查询方法

1. 字典枚举

2. 引擎收录

   ```shell
   site www.hivip.com
   ```

3. 网站爬行(工具)



分目录渗透方法：基于多套新旧、移动PC等情况进行渗透

1. 基于新旧版本 old english

2. 基于网站应用 bbs

   ```shell
   inurl bbs
   ```

3. 基于平台应用 mobile

   ```shell
   wap.baidu.com
   baidu.com
   m.baidu.com
   ```



基于网站使用程序名网站cms识别：

```shell
CMS是Content Management System的缩写，意为"内容管理系统"。(网站建设时使用的开源的程序)

#如果我知道网站使用的程序，那么就可以做代码审计，找公开漏洞
```

1. 工具（whatweb, 指纹识别）
2. 人工：版权 关键字 robots.txt
3. 人工：找web中特定的文件，比如js, 然后去网上搜索是否有对应js的源码



# 后台查找方法

1. 字典扫描（工具：御剑，破壳），枚举扫描

   采用字典遍历，加载网站发包返回的状态码进行探针获取

2. 目录爬行（工具swvs, dirbuster）

   采用扫描工具爬行网站结构目录，将网站结构进行展示

3. 开源类程序

   开源cms直接下载

4. 二级域名（工具：layer， subDomainsBrute）

   有些网站后台会设置二级域名网站进行管理
   
   ```shell
   cys.com的后台登录地址是
   admin.cys.com
   ```
   
5. 端口

   有些网站可能把后台放在不同的端口上

6. 备份文件

   基于第一种方法探针到网站备份文件，从备份文件获取网站整体目录结构

7. 短文件漏洞

   利用短文件漏洞探针目标网站对应目录结构

8. 嗅探（工具：cain， ettercap)

   内网渗透可以嗅探到数据包，网站访问数据包，流量数据包

9. 社工

   1. 自定义生成目录字典

      域名，站长信息联合（社工库查询个人密码等）

   2. 搜索引擎收录查询

10. 网站域名和IP变换访问



配置核查



# 源码审计

源码程序来源：

1. 知名框架开发的网站程序
2. 自主框架开发的网站程序
3. 无框架开发的网站程序



注入漏洞挖掘审计（源码审计工具：）

1. 关键字查找

2. MySQL监控

   拿到执行的SQL语句，在SQL语句中有前端传过来的参数的SQL，就是我们可以利用的SQL；然后去源码里面找对应的代码





如果注入不返回信息，我们可以采用盲注的形式，使用返回时间来判断是否执行成功









