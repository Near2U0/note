---
title: elasticsearch简介
categories: elasticsearch   
toc: true  
tag: [elasticsearch]
---



# 1.什么是全文搜索


![](/assert/img/ES/什么是倒排索引.png)



* 数据库搜索:一共有100万条,如果没有索引的情况下,其实就要扫描100万次,而且每次扫描,都需要匹配哪个文本所有的字符,确认是否包含搜索的关键词,而且还不能将搜索词拆解开来进行搜索



# 2.什么是ES

如果数据量很大的话,超过了单台机器的承受的范围,你就必须得用多台机器去进行数据的存储和搜索,如果我们自己实现如下:


![](/assert/img/ES/lucene.png)

存在的问题:
1.前端搜索要跟多台机器通信,很麻烦
2.数据要保证高可用,即数据不丢失


使用ES的架构如下:


![](/assert/img/ES/lucene_vs_es.png)


1.自动维护数据的分布到多个节点的索引的建立,还有搜索请求分布到读个节点的执行
2.自动维护数据的冗余副本,保证一些机器宕机了,不会丢失任何的数据
3.封装了更多的高级的功能,可以给我们提供更多的高级支持,让我们快速的开发应用,开发更加复杂的应用,复杂的搜索功能,聚合分析的功能,基于地理位置的搜索


# ElasticSearch的功能

1.分布式的搜索引擎和数据分析引擎
2.全文检索,结构化检索,数据分析

```
#全文检索
select * from products where product_name like '%牙膏%';

#结构化检索
select * from products where category_id='xxx';


#数据分析
select category_id, count(*) from products group by category_id ;

```
3.对海量数据进行近实时的处理

分布式:ES自动可以将海量数据分散到多台服务器上去存储和检索
近实时:有一定的时间延迟(ms,s级别)



# ElasticSearch的特点

1.可以作为一个大型的分布式集群,处理PB级数据,服务大公司,也可以运行在单机上,服务小公司
2.ES主要是将全文检索(Lucene),数据分析以及分布式技术合并在一起了,才形成了ES
3.对用户而言,是开箱即用的,非常方便
4.数据库的功能面对很多领域是不够用的,比如全文检索,同义词处理,相关度排名,复杂数据分析,海量数据的近实时处理,ES作为传统数据库的补充,提供了数据库所不能提供的很多功能















