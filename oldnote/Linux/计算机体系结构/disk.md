[toc]

当程序在虚拟机里读写硬盘或者光盘的时候，虚拟机将把他转换成对文件的操作，而软件程序还以为自己真的是在读写物理磁盘，虚拟硬盘实际上就是一个文件

# 虚拟硬盘分类及格式

![image-20191222101651200](/Users/chenyansong/Documents/note/images/linux/tixijiegou/image-20191222101651200.png)

# 硬盘的访问方式



* 磁盘的读写是以扇区为最小单位的，也就是说每次至少读出，或者写入一个扇区


* CHS：磁头，磁道，扇区

* LBA：逻辑块地址

  LBA模式不考虑扇区的物理位置（磁头号，磁道号），而是把他们全部组织起来进行统一的编址，这个每个扇区都有一个唯一的逻辑扇区号

  比如：某磁盘有6个磁头，每面有1000个磁道，每磁道17个扇区，那么：

  逻辑0扇区对应着0面0道1扇区

  逻辑1扇区对应着0面0道2扇区

  ....

  逻辑16扇区对应着0面0道17扇区

  逻辑17扇区对应着1面0道1扇区

  逻辑18扇区对应着1面0道2扇区

  ...

  逻辑33扇区对应着1面0道17扇区

  逻辑34扇区对应着2面0道1扇区

  逻辑35扇区对应着2面0道2扇区
  ...

* 为了减少寻道，磁盘的访问是以柱面进行的，即：先是0面0道，接着是1面0道，直到把所有的盘面上的0磁道处理完，再接着处理下一个柱面

* LBA（逻辑扇区号）= $C*磁头总数*每道扇区数+H*每道扇区数+(S-1)$

  > LBA是逻辑扇区号；CHS,是想求得逻辑扇区号的那个物理扇区所在的磁道，磁头，扇区号


