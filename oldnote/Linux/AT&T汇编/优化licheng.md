[toc]

# 优化编译器代码

GUN编译器可以针对程序的类型和处理器做专门的指定优化，-O选项提供GUN编译器的优化步骤，每个优化步骤提供更高级别的优化，当前优化可以用的有3个级别：

* -O：提供基础级别的优化
* -O2：提供更加高级的代码优化
* -O3：提供最高级的优化

不同优化级别使用的的优化技术也可以单独的应用于代码，可以使用-f命令行选项引用每个单独的优化技术，-O和-f捆绑在一起构成单一选项



## 编译器优化级别1

在这个级别**试图**执行9种单独的优化功能，不能保证9种优化功能肯定实现

* -fdefer-pop：这个选项允许编译器跨域函数调用，使输入值积累在堆栈中，然后使用单一指令一次把所有这些积累的输入值删除（通过改变ESP实现）
* -fmerge-constants：编译器视图合并相同的常量，这个可能导致编译时间很长
* -fthread-jumps：直接将第一次跳转重定向到最终的目标
* -floop-optimize：删除循环内没有用到的变量赋值操作，优化那些确定何时离开循环的条件分支
* -fif-conversion：if-then是程序中仅次于循环的最消耗时间的部分，可以减少或者删除条件分支
* -fif-conversion2：
* -fdelayed-branch：视图把尽可能多的指令移动到条件分支之前，以便充分利用处理器指令缓存
* -fguess-branch-probability:类似于分支预测，可以使用-fno-guess-branch-probability 关闭它
* -fcprop-registers：编译器会执行第二次检查以便减少调度依赖并且删除不必要的寄存器复制操作



## 编译器优化级别2

第二个级别结合第一个级别的所有优化技术，再加上很多其他技术，这些技术涉及更特定类型的代码



## 编译器优化级别3

