---
title: 获取时间
categories: shell   
toc: true  
tags: [shell]
---





#时间戳转换


#查询的起始时间

start_date=`date -d '1 days ago' +%Y%m%d`
end_date=`date -d '2 days ago' +%Y%m%d`

start_time=`date -d "${start_date}" +%s`
end_time=`date -d "${end_date}" +%s`



$ date -d '5 minutes ago' # 5 分钟前的时间
Mon Sep  4 17:22:58 CST 2017
$ date -d '100 days'      # 100 天以后的日期
Wed Dec 13 17:29:14 CST 2017
$ date -d '-100 days'     # 100 天以前的日子
Sat May 27 17:30:01 CST 2017
$ date -d '100 days ago'  # 同上
Sat May 27 17:31:10 CST 2017
$ date -d 'next monday'    
Mon Sep 11 00:00:00 CST 2017


[tmn@zhfx1 zhaoxj]$ date +%s
1340181531
[tmn@zhfx1 zhaoxj]$ date-d @1340181531 +%Y-%m-%d 
2012-06-20

#获取
datestamp=20171107
v_seconds=`date -d  ${datestamp} +%s`
seconds_before=$((v_seconds-86400))
date -d @${seconds_before} +%Y%m%d  
datestamp=20171107




current=`date "+%Y-%m-%d %H:%M:%S"`     #获取当前时间，例：2015-03-11 12:33:41       
timeStamp=`date -d "$current" +%s`      #将current转换为时间戳，精确到秒
currentTimeStamp=$((timeStamp*1000+`date "+%N"`/1000000)) #将current转换为时间戳，精确到毫秒
echo $currentTimeStamp


