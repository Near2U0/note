[TOC]



开机自启的步骤：

1. 当 PC 的电源打开后， 80x86 结构的CPU将自动进入实模式，并从地址 0xFFFF0 开始自动执行程序代码，这个地址通常是 ROM-BIOS 中的地址。 PC 机的 BIOS 将执行系统的某些硬件检测和诊断功能，并在物理地址 0 处开始设置和初始化中断向量。
2. 此后，它将可启动设备的第一个扇区（磁盘引导扇区， 512 字节）读入内存绝对地址 0x7C00 处，并跳转到这个地方开始引导启动机器运行了。 启动设备通常是软驱或是硬盘。 这里的叙述非常简单，但这已够理解内核初始化工作开始的过程了。
3. Linux 的最前面部分是用 8086 汇编语言编写的（boot/bootsect.S）， 并保存在引导设备的第一个扇区
   中。 它将由 BIOS 读入到内存绝对地址 0x7C00（31KB） 处。 当它被执行时就会把自己移动到内存绝对
   地址 0x90000（576KB） 处，并把启动设备盘中后 2KB 字节代码（boot/setup.S） 读入到内存 0x90200 处。
   而内核的其他部分（system 模块）则被读入到从内存地址 0x10000（64KB）开始处。 因此从机器加电开
   始顺序执行的程序见图 6-1 所示。 
4. 因为当时 system 模块的长度不会超过 0x80000 字节大小（即 512KB），所以 bootsect 程序把 system
   模块读入物理地址 0x10000 开始位置处时并不会覆盖在 0x90000（576KB） 处开始的 bootsect 和 setup 模
   块上。后面 setup 程序将会把 system 模块移动到物理内存起始位置处，这样 system 模块中代码的地址也
   即等于实际的物理地址，便于对内核代码和数据进行操作。 

![1582879537257](E:\git-workspace\note\images\linux\linux_0.12\1582879537257.png)



![1582879894030](E:\git-workspace\note\images\linux\linux_0.12\1582879894030.png)

