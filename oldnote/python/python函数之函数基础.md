---
title:  python函数之函数基础
categories: python   
toc: true  
tags: [python]
---


# 1.语法格式
```
def <fc_name>(args1,args2, args3...argsN):
    <statements>
    [return <value>]                        #可选

#return语句可以出现在函数主体中的任何地方，他表示函数调用的结束，并将结果返回到函数的调用者，如果一个函数没有返回值，那么默认是返回none，但是这个值往往被忽略掉

```

# 2.def语句是实时执行的
在python中def语句实际上是一个可执行的语句，当他运行的时候，他创建了一个新的函数对象，并将其赋值给函数名这个变量，因为def是一个语句，所以可以出现在任何的地方，如下：
```
if test:
    def func():
        ...
else:
    def func():
        .....
...
func():
    ...

```

因为函数名代表函数对象的引用，所以如下：
```
othername = func
othername()                            #调用函数

```

函数对象可以有附加的属性，如下：
```
def func():
    .....

func()                            #调用函数
func.attr = value                #为函数对象添加属性

```



# 3.定义和调用
```
def times(x, y):
    return x * y


#调用1
tiems(2, 4)
8

#调用2
times("Ni", 3)                           #因为函数的参数类型不是固定的，所以可以传递不同的参数，实现不同的功能，即多态
'NiNiNi'

```


# 4.函数中的多态
就像上面的实例，对于times函数中<font color=red>表达式x\*y 的意义完全取决于x和y的对象类型</font>，同样的函数，在一个实例下执行的是乘法，但是在另一个实例下执行的是赋值，这就是“*” 在针对被处理的对象进行了随机应变
多态——就是一个操作的意义取决于被操作对象的类型
多态举例
```
#功能：实现两个序列的交集
def intersect(seq1, seq2):
    res = []
    for x in seq1:
        if x in seq2:
            res.append(x)
    return res

#重访多态
##1
s1 = 'spam'
s2 = 'sccm'
intersect(s1, s2)
['s', 'm']


##2
x = intersect([1,2,3], (2,3))
[2]

##总结：intersect是多态的，也就是说，他支持多种类型，只要其参数支持扩展对象接口（对于intersect函数，这意味着第一个参数必须支持for循环，并且第二个函数支持成员测试，所有满足这两点的对象都能正常工作，与他们的类型无关，这就是多态）

##如果传入了不支持这些接口的对象（例如：数字），python会自动检测出不匹配，并抛出异常
```



# 5.本地变量
* 所有在函数内部进行赋值的变量都是本地变量，所有本地变量在函数退出时，会消失，拿intersect函数为例：
* res 是明显在函数内部进行赋值的，所以是本地变量
* 参数也是通过赋值被传入的，所以seq1和seq2都是本地变量
* for循环将元素赋值给了一个变量，所以变量x也是本地变量


# 6.函数总结
* def是可执行的代码
python中的函数是由一个新的语句编写的，即def，def是一个可执行的语句——函数并不存在，直到python运行了def后才存在。
* def创建了一个对象并将其赋值给某一个变量名
当python运行到def语句的时候，<font color=red>他将会生成一个新的函数对象并将其赋值给这个函数名</font>
* lambda创建了一个对象并将其作为一个结果返回
* return语句将一个结果对象发送给调用者
* yield向调用者发回一个结果对象
* global声明了一个模块级的变量并被赋值
* nonlocal 声明了一个将要被赋值的一个封闭的函数变量
* 函数是通过赋值传递的
* 参数、返回值、变量并不是声明



# 7.main函数

```
if __name__ == '__main__':
	print "xxx"

```


